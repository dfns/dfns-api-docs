# Create Server-Side Application

`POST /auth/apps`

Create a new Server-Side application in the caller's org

{% hint style="info" %}
* User action signature required. See [User Action Signing](../user-action-signing/) for more information.
* Request headers required. See [Request Headers](../../../getting-started/request-headers.md) for more information.
* Authentication required. See [Authentication Headers](../../../getting-started/request-headers.md#authentication-headers) for more information.
{% endhint %}

## Required Permissions

| Name                     | Conditions      |
| ------------------------ | --------------- |
| `Auth:Apps:Create`       | Always Required |
| `Auth:Types:Application` | Always Required |

## Request Body

|                                                     |         |                                                                                                                                                                             |
| --------------------------------------------------- | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `name` <mark style="color:red;">\*</mark>           | String  | the name of the application, must be unique within the caller's org                                                                                                         |
| `relyingPartyId` <mark style="color:red;">\*</mark> | String  | the top level domain where the application will be hosted, for example: `dfns.io`                                                                                           |
| `origin` <mark style="color:red;">\*</mark>         | String  | the url of the application, for example: `https://api.dfns.io`                                                                                                              |
| `kind` <mark style="color:red;">\*</mark>           | String  | the kind of application being created, must be `ServerSideApplication`                                                                                                      |
| `publicKey` <mark style="color:red;">\*</mark>      | String  | the public key that can be used to validate signatures generated by the application                                                                                         |
| `daysValid`                                         | Integer | `Optional` number of days the application's token will be valid. Default is `730`. Max is `730`                                                                             |
| `permissionId`                                      | String  | `Optional` ID of the permission that will be assigned to the application. If no permission ID is given, the application will be assigned the same permissions as the caller |
| `externalId`                                        | String  | `Optional` user defined value that can be used to correlate the entity with an external system                                                                              |

Example:

```JSON
{
  "name": "MyApp Production",
  "relyingPartyId": "https://myapp.example.co",
  "origin": "example.co",
  "kind": "ServerSideApplication",
  "permissionId": "pm-delaw-avoca-v16r37fpp8koqebc",
  "daysValid": 720,
  "publicKey": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4juWLl9qYQRlkj0XGsSx\naQGe0hjOiXOMRHQpUWGWu/kM6rdiLbsHN+muXHl/kmFu8Hd+eTzPNVgfGREobvgI\nv/jIf2edTcOLGCNY9DDjxuezilKAzvxnckAg1RkaQuDoWBjtECl/QFwZbskE4Vy3\nMP6b5ynTZzIcdkQ443GPzylcZc3bu7hVsUKTSpI1jioVPOMcc4+ntgVMA42nhzuo\n1sMcU6sDQuBE4PCCuZXvcupBwPrOQDwLgNcvIZihn4OrHCAVWQpedruIKB6pmpRF\nfBOrs1Gco2nE85ABpC3LxMu5NahyotA5S4pxqo97Pf+FMCVOeZxUpDBvsS5bSCg+\nDwIDAQAB\n-----END PUBLIC KEY-----"
}
```

## Responses

{% hint style="info" %}
* See [Common Errors](../../../getting-started/errors.md#common-errors) for common errors.
* See [Application Management Errors](../../../getting-started/errors.md#application-management-errors) for application management specific errors.
{% endhint %}

{% tabs %}
{% tab title="200" %}
**Success** - The newly created application

```JSON
{
  "appId": "ap-4s6se-e2t7n-89gfg50iaos73pm6",
  "kind": "ServerSideApplication",
  "orgId": "or-yanke-mars-6ulofamogg8fs87v",
  "expectedRpId": "localhost",
  "name": "Localhost Server-Side App",
  "isActive": true,
  "expectedOrigin": "http://localhost:3000",
  "permissionAssignments": [],
  "accessTokens": [
    {
      "accessToken": "eyJ0eXAi...pm4Rq5mCmlC5GcoHpA",
      "dateCreated": "2023-04-11T16:38:55.098Z",
      "credId": "Y2ktMmNkcXMscDl5cjktOXBvYnB1bWo4anZnY2h2bA",
      "isActive": true,
      "kind": "Application",
      "linkedUserId": "",
      "linkedAppId": "ap-4s6se-e2t7n-89gfg50iaos73pm6",
      "name": "Localhost Server-Side App",
      "orgId": "or-yanke-mars-6ulofamogg8fs87v",
      "permissionAssignments": [],
      "publicKey": "SHA256:lH6mAX/74SbWzSjwNBFapwJsUdccVQzA8yj7K8/R5eo",
      "tokenId": "to-3oona-vc575-9ueb17f2t4uq0m9b"
    }
  ]
}
```
{% endtab %}
{% endtabs %}

## Examples

{% embed url="https://github.com/dfnsext/dfns-api-docs/blob/canary/examples/typescript/src/api/authentication/application-management/create-server-side-application.ts" %} Typescript Example {% endembed %}
